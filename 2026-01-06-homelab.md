---
## Hashnode
slug: homelab
 
# Tags
# String (comma-separated tag slugs) | *REQUIRED*
# Ex: reactjs, css, python, nodejs
# Upto 5 tag slugs
# - You can find tags information from here https://github.com/Hashnode/support/blob/main/misc/tags.json
# You can also update a post to edit this later.
# tags: reactjs, css, python, nodejs


domain: hashnode.hudater.dev
subtitle: Hudater's Homelab
 
# Cover Image URL of the post
# String | Optional
# Note: You must upload the image to Hashnode's CDN, before you can use it here.
# Ex: https://cdn.hashnode.com/res/hashnode/image/upload/v1681132538878/itnaYF1h-.png
# - To upload, Login to Hashnode and go to https://hashnode.com/uploader
#   Use the URL that is generated after the upload.
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1768907490094/TEkoHSA4S.jpg?auto=format

# Canonical URL of the post
# String | Optional
# What is a canonical URL? https://moz.com/learn/seo/canonicalization
# Ex: https://www.hashnode.com/post/top-4-react-ui-libraries-for-2023
# - This is equivalent to original URL option present in draft settings
#   of a post in Hashnode editor.
# - This is useful when you want to publish a post that is already
#   published on another platform.
# canonical:
 
 
# SEO Title
# String | Optional
# Ex: Top 4 React UI Libraries for 2023
# - This is equivalent to SEO TITLE option present in draft settings
#   of a post in Hashnode editor.
# - You can also update a post to update this later.
# seoTitle: 
 
# SEO Description
# String | Optional
# Ex: A curated list of the best React UI libraries for 2023
# - This is equivalent to SEO DESCRIPTION option present in 
#   draft settings of a post in Hashnode editor.
# - You can also update a post to update this later.
# seoDescription: 

# Slug of the series that you want your post to be a part of
# String | Optional
# Ex: react-series
# - This is equivalent to "ADD TO A SERIES" option present in 
#   draft settings of a post in Hashnode editor.
# - If invalid series is given, the post will not be added to any series.
# - You can update the post again to correct it later.
# - You can find series information from the series section in your publication dashboard. 
#   You can also edit the series information from there.
# seriesSlug: // slug of the series

enableToc: true

# Save post as draft
# Boolean | Optional
# Default value: false // by default the post will be published.
# Ex: true
# - If true, the post will be saved as a draft.
# - You can also update a draft with all the above attributes.
# - This draft will be available under Drafts section of the 
#   left sidebar in your publication dashboard.
# - Note: Once you remove this attribute, the post will be 
#   published and removed from drafts automatically.
# - This follows the same rules as a post create and update
#   flow as well as the slug rules mentioned since 
#   beginning of this manual.
saveAsDraft: false
## Jekyll
title: Homelab Part 1 - Hardware, Locations, and Design Goals
layout: post
date: 2026-01-06 05:30:00 +0530
categories: [homelab, architecture]
comments: true
pin: true
# tags: [servers, proxmox, homelab, hybrid cloud, architecture diagram]
tags: 
  - servers
  - proxmox
  - homelab
  - hybrid cloud
  - architecture diagram
image:
  path: "https://res.cloudinary.com/djsasyvfl/image/upload/v1767633860/Hudater_Homelab_v1.0_a2qotp.svg"
  alt: "Homelab Architecture Diagram"

---

I have been trying to start blogging and documenting my homelab for a long time (~2 years) but the biggest hurdle has been **_DIAGRAMS_**

Finally, on this Holy Day of 6th January 2026, I present to the people on the web with my **Homelab!**

This is going to be multi-part blog post which will be roughly divided into 5 parts where I will explain and reason:

- [x] Why, Goals, Infra Overview
- [ ] Cloud Services Used, Workload Placement
- [ ] Networking, DNS & Traffic Flow
- [ ] Security, Identity & Observability
- [ ] Automation, Ideal Homelab Architecture

## Why This Homelab Exists

I got into Homelabbing and Self-Hosting during 2023 when I was exploring Linux & Docker. Coming across YT Channels like
[Techno Tim](https://www.youtube.com/@TechnoTim){:target="_blank"}, 
[Chris Titus Tech](https://www.youtube.com/@ChrisTitusTech){:target="_blank"}, 
[IBRACORP](https://www.youtube.com/@IBRACORP){:target="_blank"}, 
[The Lord's Heir](https://www.youtube.com/@LukeSmithxyz){:target="_blank"}, 
[and his Deepfake](https://www.youtube.com/@MentalOutlaw){:target="_blank"}
made me explore Open Source Tech which eventually led to need of Selfhosting and using Libre Software

## Design Goals

My homelab has been designed and re-invented multiple times which led to me making some Design Choices such as:

- Separation between prod and lab
- Single ingress point
- Minimal public attack surface

Some of things which I would eventually like to perfect in this setup include:

- Strong identity and access control
- Reproducible infrastructure
- Avoiding Single Points of Failure


## Locations / Tenancies

### On-Prem Homelab

Due to a single High end hardware and 3 low spec devices I decided to divide Prod and Test into 2 mostly-independent environments former being an Independent PVE and PBS node and latter being a PVE Cluster to learn on

| Host | CPU           | RAM         | Environment |
|------|---------------|-------------|-------------|
| PC   | Ryzen 5 5600x | 48 GB DDR4  | Prod        |
| Pi-4 | Cortex-A72    | 4 GB LPDDR4 | Test        |
| Acer | AMD A8-7410   | 16 GB DDR3  | Test        |
| HP   | i3-7020U      | 32 GB DDR4  | Test        |

### Oracle Cloud Infrastructure (OCI)

This tenancy has high Uptime by the virtue of it being ***"Cloud"*** thus it has been crowned as the **INGRESS**
Currently I am only effective using One ARM machine but I do have plans to utilize 3 VMs here to mitigate single point of failure to an extent. Keep in tune for that blog!

| Instance      | Shape                  | Arch | Environment |
|---------------|------------------------|------|-------------|
| OCI-Bom-ARM   | VM.Standard.A1.Flex    | ARM  | Prod        |
| OCI-Bom-AMD-1 | VM.Standard.E2.1.Micro | x86  | Test        |
| OCI-Bom-AMD-2 | VM.Standard.E2.1.Micro | x86  | Test        |


> The two VMs in `Test` environment are ephemeral
{: .prompt-info }

## Virtualization Stack

### Why Proxmox

Proxmox is quite a popular solution in the Selfhosting community which translates to better support. I also found it easier to get started with Proxmox with this support. Existence of [PBS](https://www.proxmox.com/en/products/proxmox-backup-server/overview){:target="_blank"} and [PVE Helper Scripts](https://community-scripts.github.io/ProxmoxVE/){:target="_blank"} now reinforces the decision of deploying PVE

Since Proxmox is based on KVM, guides lining out Hardware Passthrough work almost 1:1 on Proxmox. Underlying is a Debian Environment which makes it easier to debug, maintain and troubleshoot for a regular Linux user like me


### VM vs LXC vs Docker

VMs are divided based on their usage such as `Media` for Media Server, `k3s` for VMs running Kubernetes Cluster etc.
VMs are first-class citizen in the what-to-use debate in my Homelab. LXCs are used when I come across hardware constraints, such as, `Single GPU Passthrough`, `SATA Passthrough` when SATA bus is shared with USB bus in the motherboard

For specific service deployment such as DNS, Reverse Proxy etc, Docker is preferred unless using Docker would require additional un-necessary configuration or more importantly, additional Security Permissions which is the case when it comes to DNS

Both LXCs and Docker deploy services based on stacks such as `DNS Stack` which consists of `Pihole, Unbound and Pihole-Updatelist`. This way ensures I don't over-complicate my infra but still retain necessary segregation

## High-Level Architecture Explanation

![Homelab Architecture](https://res.cloudinary.com/djsasyvfl/image/upload/v1767633860/Hudater_Homelab_v1.0_a2qotp.svg)

Let's assume a request is sent to `dash.example.com` which corresponds to `service: dash` on `Other-Services` stack in `Media Server` at `Proxmox PC On-Prem`

The request will only reach `Traefik at OCI-Bom-Arm`. Traefik will check it's backend i.e, `File and Redis`. If service is found, it will redirect to `Keycloak` and authenticated via:

```
Native Auth if    : service supports OAuth and OAuth is setup at service
Middleware Auth if: no native OAuth is setup AND oauth middleware is applied at service
```


> But how does Traefik know where Dash service is at?
{: .prompt-tip }

This is where Redis backend and Tailscale come to the picture!

[Traefik-Kop](https://github.com/jittering/traefik-kop){:target="_blank"} is a service which writes to Redis over at OCI-Bom-ARM and traffic is routed using [Headscale](https://github.com/juanfont/headscale){:target="_blank"} and [Outbound NAT at OPNsense](https://opnsense.org){:target="_blank"}

## Thanks!

Thank you for going through this long, complicated story of my Homelab, do leave your comment, react and share this with your Tech Ninja Friends!
